
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../Contribute/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.5">
    
    
      
        <title>Coding with Pixel-Wrangle - Pixel-Wrangle Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Fira";--md-code-font:"Fira Code"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#coding-with-pixel-wrangle" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Pixel-Wrangle Docs" class="md-header__button md-logo" aria-label="Pixel-Wrangle Docs" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pixel-Wrangle Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Coding with Pixel-Wrangle
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_3">
          
            <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="/en/" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="/fr/" hreflang="fr" class="md-select__link">
                    Français
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Pixel-Wrangle Docs" class="md-nav__button md-logo" aria-label="Pixel-Wrangle Docs" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Pixel-Wrangle Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Pixel Wrangle Documentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="true">
          En
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="En" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          En
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Coding with Pixel-Wrangle
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Coding with Pixel-Wrangle
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-the-pixel-wrangle-editor" class="md-nav__link">
    Overview of the Pixel Wrangle editor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-order" class="md-nav__link">
    Execution order
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attention" class="md-nav__link">
    Attention
  </a>
  
    <nav class="md-nav" aria-label="Attention">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#but" class="md-nav__link">
    BUT
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#io-tab-specifics" class="md-nav__link">
    IO tab specifics
  </a>
  
    <nav class="md-nav" aria-label="IO tab specifics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs-panel-uniform-variables" class="md-nav__link">
    Inputs panel (uniform variables)
  </a>
  
    <nav class="md-nav" aria-label="Inputs panel (uniform variables)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax-specifics" class="md-nav__link">
    Syntax specifics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specific-cases-headers" class="md-nav__link">
    Specific cases (Headers)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correspondence-of-glsl-types-td-parameter-styles" class="md-nav__link">
    Correspondence of GLSL Types / TD parameter styles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifiable-properties" class="md-nav__link">
    Modifiable properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs-panel-buffers" class="md-nav__link">
    Outputs panel (Buffers)
  </a>
  
    <nav class="md-nav" aria-label="Outputs panel (Buffers)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalities-within-glsl-top" class="md-nav__link">
    Generalities within GLSL TOP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-in-a-glsl-top" class="md-nav__link">
    Examples in a GLSL TOP
  </a>
  
    <nav class="md-nav" aria-label="Examples in a GLSL TOP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexpixel-mode" class="md-nav__link">
    Vertex/Pixel Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compute-mode" class="md-nav__link">
    Compute Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-buffers-with-pixel-wrangle" class="md-nav__link">
    Managing buffers with Pixel Wrangle
  </a>
  
    <nav class="md-nav" aria-label="Managing buffers with Pixel Wrangle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexpixel-mode_1" class="md-nav__link">
    Vertex/Pixel Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compute-mode_1" class="md-nav__link">
    Compute Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Contribute/" class="md-nav__link">
        Contribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../GLSL%20Language/" class="md-nav__link">
        GLSL Language
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Install/" class="md-nav__link">
        Install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Keyboard%20Shortcuts/" class="md-nav__link">
        Keyboard Shortcuts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Macros/" class="md-nav__link">
        Macros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Parameters/" class="md-nav__link">
        Parameters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Presets/" class="md-nav__link">
        Presets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Quick%20Start/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Visual%20Studio%20Code/" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          Fr
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fr" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Fr
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Coder%20avec%20Pixel%20Wrangle/" class="md-nav__link">
        Coder avec Pixel-Wrangle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Contribuer/" class="md-nav__link">
        Contribuer au projet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/D%C3%A9marrer%20rapidement%20avec%20Pixel%20Wrangle/" class="md-nav__link">
        Démarrer rapidement
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Fonctions/" class="md-nav__link">
        Fonctions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/GLSL/" class="md-nav__link">
        Le langage GLSL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Macros/" class="md-nav__link">
        Les Macros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Param%C3%A8tres/" class="md-nav__link">
        Paramètres
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Presets/" class="md-nav__link">
        Presets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/Raccourcis%20claviers/" class="md-nav__link">
        Les raccourcis clavier
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fr/VSCode/" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-the-pixel-wrangle-editor" class="md-nav__link">
    Overview of the Pixel Wrangle editor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-order" class="md-nav__link">
    Execution order
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attention" class="md-nav__link">
    Attention
  </a>
  
    <nav class="md-nav" aria-label="Attention">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#but" class="md-nav__link">
    BUT
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#io-tab-specifics" class="md-nav__link">
    IO tab specifics
  </a>
  
    <nav class="md-nav" aria-label="IO tab specifics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs-panel-uniform-variables" class="md-nav__link">
    Inputs panel (uniform variables)
  </a>
  
    <nav class="md-nav" aria-label="Inputs panel (uniform variables)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax-specifics" class="md-nav__link">
    Syntax specifics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specific-cases-headers" class="md-nav__link">
    Specific cases (Headers)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correspondence-of-glsl-types-td-parameter-styles" class="md-nav__link">
    Correspondence of GLSL Types / TD parameter styles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifiable-properties" class="md-nav__link">
    Modifiable properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs-panel-buffers" class="md-nav__link">
    Outputs panel (Buffers)
  </a>
  
    <nav class="md-nav" aria-label="Outputs panel (Buffers)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalities-within-glsl-top" class="md-nav__link">
    Generalities within GLSL TOP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-in-a-glsl-top" class="md-nav__link">
    Examples in a GLSL TOP
  </a>
  
    <nav class="md-nav" aria-label="Examples in a GLSL TOP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexpixel-mode" class="md-nav__link">
    Vertex/Pixel Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compute-mode" class="md-nav__link">
    Compute Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-buffers-with-pixel-wrangle" class="md-nav__link">
    Managing buffers with Pixel Wrangle
  </a>
  
    <nav class="md-nav" aria-label="Managing buffers with Pixel Wrangle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexpixel-mode_1" class="md-nav__link">
    Vertex/Pixel Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compute-mode_1" class="md-nav__link">
    Compute Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="coding-with-pixel-wrangle">Coding with Pixel-Wrangle</h1>
<h2 id="introduction">Introduction</h2>
<p>Pixel Wrangle offers a pixel shader development environment involving an underlying GLSL TOP. It therefore uses the GLSL language because it inherits from GLSL TOP. GLSL TOP is a GLSL implementation offered by Touchdesigner in its own ecosystem, it fits into the workflow of TOPs (Texture Operators in the Touchdesigner terminology). For more information on the GLSL language, visit the <a href="../../fr/GLSL/">GLSL</a> page. For more information on TOPs in Touchdesigner, go <a href="https://derivative.ca/UserGuide/TOP">here</a>.</p>
<h3 id="overview-of-the-pixel-wrangle-editor">Overview of the Pixel Wrangle editor</h3>
<p>Editing code in Pixel Wrangle is divided into 3 tabs in the <a href="./UI.md">EN/UI</a>:</p>
<ul>
<li>The <strong>IO</strong> tab which contains the 'Inputs' (your 'uniform' variables) and 'Outputs' (the shader's output buffers) panels. These panels have specific syntax which is detailed further -&gt; <a href="./">Coding with Pixel Wrangle</a></li>
<li>The <strong>Functions</strong> tab which houses all the code outside the main() function. You can declare your custom functions, macros, shared variables, etc. there.</li>
<li>The <strong>Main</strong> tab which corresponds to the body of the main() function. You do not need to declare this function within your code, just write your code as you would in the main() function.</li>
</ul>
<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="100%" height="500" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Fproto%2FDZoDzaIA6ZhcCWlU0Gr8RC%2FPixel-Wrangle-UI%3Fnode-id%3D153%253A165%26scaling%3Dscale-down%26page-id%3D153%253A164%26starting-point-node-id%3D153%253A165" allowfullscreen></iframe>

<h3 id="execution-order">Execution order</h3>
<p>The code content of the 3 tabs is parsed, then sent to the compiler in the following order:</p>
<ol>
<li>Macros</li>
<li>IO -&gt; Inputs (uniform)</li>
<li>Functions -&gt; imports with #include + function declarations</li>
<li>IO -&gt; Outputs (Buffers)</li>
<li>Main (main() function with your code inside)</li>
</ol>
<p>To view the complete code (once parsed: that is, as it is sent to the compiler), you can consult the 'Full Code Panel' ([CTRL] + 9)</p>
<h3 id="attention"><strong>Attention</strong></h3>
<ul>
<li>Both the 'Functions' and 'Main' tabs use standard GLSL syntax, so you can write code exactly as you would in any GLSL shader.</li>
</ul>
<h4 id="but"><strong>BUT</strong></h4>
<ul>
<li><strong>The '<a href="./#io-tab-specifics">IO</a>' tab has a special syntax</strong>, explained in detail <a href="./#io-tab-specifics">below</a></li>
</ul>
<h2 id="io-tab-specifics">IO tab specifics</h2>
<h3 id="inputs-panel-uniform-variables"><strong>Inputs panel (uniform variables)</strong></h3>
<h4 id="syntax-specifics">Syntax specifics</h4>
<ul>
<li>Each of the variables you declare in the Inputs panel are uniform variables mapped to a Touchdesigner parameter.</li>
<li><strong>No 'uniform' keyword</strong>, it is implicit and is added automatically when parsing by Pixel Wrangle, before compilation.</li>
<li>Your <strong>uniform variable name reflects the name of the associated Touchdesigner parameter</strong>.</li>
<li>Consequently, <strong>your variable name must absolutely start with a capital followed by lowercase letters only, and NO special characters or '_'</strong> (constraint of Touchdesigner parameter names)</li>
<li>The type of the variable determines the type of the Touchdesigner parameter that will be associated with it, following the same scheme as your uniforms declarations in a GLSL TOP</li>
<li>**Any line of code starting with '//' or '/*' is considered a comment, EXCEPT <a href="./#specific-cases-headers">Specific cases</a> (Headers)</li>
<li>**Any variable declaration or comment must be made on a single line.</li>
<li>**To customize the Touchdesigner parameter associated with your uniform variable, you can add a comment after the declaration of your variable followed by pairs of property=value detailed <a href="./#modifiable-properties">here</a></li>
<li><a href="./#modifiable-properties">Modifiable properties</a> reflect what you could do via the Component Editor, no more.</li>
<li>**Each property must be followed by a '=' sign then its value.</li>
<li>**Each [property=value] pair must be separated by a ';'</li>
<li>The list of modifiable properties is available below, in the 'Modifiable properties' section</li>
<li>Properties whose value is a string must not be enclosed in ' or ", but written directly as they are.</li>
<li>However, properties whose value is an array of string must be written in the form [ 'Menu Entry 1' , 'Menu Entry 2' ]\ with ' or " enclosing each element of the array.</li>
</ul>
<h4 id="specific-cases-headers">Specific cases (Headers)</h4>
<ul>
<li>
<p>Header type parameters are available although they have no meaning at the GLSL level, as they are useful for formatting the UI.</p>
</li>
<li>
<p>The syntax for creating a Header type parameter is '//--- '.</p>
</li>
<li>You can then associate a label and/or section property with it.</li>
</ul>
<p>For example: '//--- label=Noise Types; section=1' will create an UI parameter of type Header, with the title: 'Noise Types', and will have a separator above it.</p>
<ul>
<li>Other parameters not compatible as 'uniform' with GLSL TOP such as 'File' or 'Folder' types are not available through the IO panel.</li>
</ul>
<h4 id="correspondence-of-glsl-types-td-parameter-styles">Correspondence of GLSL Types / TD parameter styles</h4>
<table>
<thead>
<tr>
<th><strong>GLSL Type</strong></th>
<th><strong>TD Parameter Style</strong></th>
<th><strong>Syntax</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>int</td>
<td>Int OR Menu OR Toggle OR Pulse</td>
<td>int Newint;</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
<td>float Newfloat;</td>
</tr>
<tr>
<td>vec[2-4]</td>
<td>Float of size [2-4] OR Color for vec[3-4]</td>
<td>vec3 Newcolor;</td>
</tr>
<tr>
<td>uvec[2-4]</td>
<td>Int of size [2-4] OR Color for vec[3-4]</td>
<td>uvec2 Newunsignedvec;</td>
</tr>
<tr>
<td>ivec[2-4]</td>
<td>Int of size [2-4] OR Color for vec[3-4]</td>
<td>ivec2 Newsignedvec;</td>
</tr>
<tr>
<td>bvec[2-4]</td>
<td>Int of size [2-4] OR Color for vec[3-4]</td>
<td>bvec2 Newboolvec;</td>
</tr>
<tr>
<td>\&lt;TYPE>[*]</td>
<td>CHOP</td>
<td>vec4 Newvectorarray[16] =&gt; !! Array of 16 vec4 values, needs to be referenced by a CHOP that holds the corresponding channels !!</td>
</tr>
<tr>
<td>mat4</td>
<td>CHOP</td>
<td>mat4 Newmatrix;</td>
</tr>
<tr>
<td>atomic_uint</td>
<td>Int</td>
<td>atomic_uint Newatomicint;</td>
</tr>
<tr>
<td>const int</td>
<td>Int OR Menu OR Toggle OR Pulse</td>
<td>const int Newconstantint = 0;</td>
</tr>
</tbody>
</table>
<h4 id="modifiable-properties">Modifiable properties</h4>
<table>
<thead>
<tr>
<th><strong>Syntax</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>Parameter Label</td>
<td>Parameter Name</td>
</tr>
<tr>
<td>section</td>
<td>Parameter has separator</td>
<td>0</td>
</tr>
<tr>
<td>order</td>
<td>Parameter UI order (position)</td>
<td>integer =&gt; Same as your declaration order</td>
</tr>
<tr>
<td>readonly</td>
<td>Parameter Lock</td>
<td>0</td>
</tr>
<tr>
<td>enable</td>
<td>Parameter Activation</td>
<td>1</td>
</tr>
<tr>
<td>enableExpr</td>
<td>Parameter Activation Expression</td>
<td>''</td>
</tr>
<tr>
<td>help</td>
<td>Parameter Help text on hover</td>
<td>''</td>
</tr>
<tr>
<td>style</td>
<td>Parameter Style</td>
<td>Float or Color (for vec3-4) or Str or CHOP (according to variable type). Can be modified for int, float, vec3-4 (Valid values =&gt; Menu, Color, Toggle, Pulse, Float, Int)</td>
</tr>
<tr>
<td>expr</td>
<td>Parameter Expression</td>
<td>''</td>
</tr>
<tr>
<td>bindExpr</td>
<td>Parameter Bind Expression</td>
<td>''</td>
</tr>
<tr>
<td>menu</td>
<td>Parameter Menu entries (integer type only)</td>
<td>''</td>
</tr>
<tr>
<td>default</td>
<td>Parameter Default Value</td>
<td>0 or ''</td>
</tr>
<tr>
<td>min</td>
<td>Minimum Parameter Value</td>
<td>0</td>
</tr>
<tr>
<td>max</td>
<td>Maximum Parameter Value</td>
<td>1</td>
</tr>
<tr>
<td>toggle</td>
<td>Parameter is a toggle (integer type only)</td>
<td>''</td>
</tr>
<tr>
<td>pulse</td>
<td>Parameter is a Pulse (integer type only)</td>
<td>''</td>
</tr>
<tr>
<td>chop</td>
<td>Parameter chop path (mat4 type only)</td>
<td>''</td>
</tr>
</tbody>
</table>
<h4 id="examples">Examples</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cm">/* Syntax example */</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">// Single line comments are ignored by the parser</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1">// Except for header (when line start with //---)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1">//--- label=Simple Parameters; section=1</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="c1">// Create Float Parameter</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="kt">float</span><span class="w"> </span><span class="n">Float</span><span class="p">;</span><span class="w"> </span><span class="c1">// default=0; min=-1; max=1; section=1</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="c1">// Create Integer Parameter</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="kt">int</span><span class="w"> </span><span class="n">Int</span><span class="p">;</span><span class="w">     </span><span class="c1">// min=-10; max=10; default=0</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="c1">//--- label=Vector Parameters; section=1</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="c1">// Create Color Vector Parameter</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="kt">vec3</span><span class="w"> </span><span class="n">Color</span><span class="p">;</span><span class="w">  </span><span class="c1">// default=[0, 0.7, 1]; section=1</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="c1">// Create Vector style Parameter</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="kt">vec3</span><span class="w"> </span><span class="n">Position</span><span class="p">;</span><span class="w">  </span><span class="c1">// default=[0, 0.7, 1]; style=Float</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="c1">//--- label=Menu Parameters; section=1</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="c1">// Create Menu Parameter</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="kt">int</span><span class="w"> </span><span class="n">Newmenu</span><span class="p">;</span><span class="w">                  </span><span class="c1">// menu=[&#39;Tomatoes&#39;, &#39;Bananas&#39;]; default=1; section=1</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="c1">//--- label=Array Parameters; section=1</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="c1">//// Create a uniform array of vec2 (you will need to specify a CHOP target with 2 channels and 16 samples each)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="c1">// vec2 Array[16];</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a><span class="c1">//// Create a texture buffer array of vec4 (you will need to specify a CHOP target with 4 channels and 200 samples each)</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a><span class="c1">// vec4 Array[200];</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a><span class="c1">//// Create Matrix Parameter (you will need to specify a compatible &#39;chop&#39; like transformCHOP to remove warning)</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a><span class="c1">// mat4 NewMatrix;</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a><span class="cm">/* Vulkan Specialization Constants */</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ConstanttypeMenu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mo">0</span><span class="p">;</span><span class="w">     </span><span class="c1">// menu=[&#39;Candies&#39;, &#39;Sky&#39;]; label=Vulkan Constant Menu</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a><span class="c1">//--- label=Atomic Counters; section=1</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a><span class="c1">// Create Atomic Counter</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a><span class="kt">atomic_uint</span><span class="w"> </span><span class="n">NewAtomicCounter</span><span class="p">;</span><span class="w"> </span><span class="c1">// section=1</span>
</code></pre></div>
<h3 id="outputs-panel-buffers"><strong>Outputs panel (Buffers)</strong></h3>
<h4 id="generalities-within-glsl-top">Generalities within GLSL TOP</h4>
<p>Buffers are variables that allow storing and sharing data between different shaders or different rendering stages. They are useful for accumulating data and communicating between the different shaders of a rendering pipeline.</p>
<p>Here are the 2 most used forms within the Touchdesigner GLSL TOP:</p>
<ul>
<li>
<p>Texture buffers (<strong>Accessible in Vertex/Pixel AND Compute mode</strong>): They allow referencing textures that will be used for display. They are generally used in shaders to <strong>READ</strong> texture pixels and use them to influence the final color of the pixel.</p>
</li>
<li>
<p>Image buffers (<strong>Accessible in Compute mode ONLY</strong>): They allow <strong>READING AND WRITING</strong> to image data buffers such as textures or offscreen renderings. They are generally used in shaders to perform image processing operations.</p>
</li>
</ul>
<p>It is also possible to declare image texture buffers with dimensions greater than 2 (for example, a 3D texture or a 3D image).</p>
<p>It is important to note that texture buffers and image buffers cannot be used interchangeably.
Each has its own syntax and its own access functions.</p>
<p>Also, it should be noted that image buffers can be accessible for reading and writing but only in 'Compute Shader' mode, refer to the Pixel Wrangle or GLSL TOP parameters page to adjust this option (Output Access).</p>
<p>Regarding <strong>texture buffers</strong>: they are <strong>accessible in READ ONLY mode but available in both modes</strong> (Vertex/Pixel AND Compute)** with the texture() function.</p>
<p>Furthermore, within a Pixel Shader <strong>in 'Compute' mode, the use of texelFetch() is more appropriate</strong> for reading texture data as it generally offers better performance while allowing the management of mipmap levels (or LOD =&gt; Level Of Detail).</p>
<h4 id="examples-in-a-glsl-top">Examples in a GLSL TOP</h4>
<h5 id="vertexpixel-mode"><strong>Vertex/Pixel Mode</strong></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// Declare a buffer in Pixel/Vertex mode</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">layout</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mo">0</span><span class="p">)</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">vec4</span><span class="w"> </span><span class="n">fragColor</span><span class="p">;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">layout</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">vec4</span><span class="w"> </span><span class="n">otherColor</span><span class="p">;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="k">layout</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">vec4</span><span class="w"> </span><span class="n">extraInfo</span><span class="p">;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">(){</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="cm">/* Assign a value to a buffer */</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="c1">// Write the red color to the &#39;fragColor&#39; buffer</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="n">fragColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mo">0</span><span class="p">,</span><span class="mo">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Buffer 0 = Red</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="c1">// Write the color of the first 2D input, sampled with the normalized vUV.st coordinates provided by Touchdesigner.</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="n">otherColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">texture</span><span class="p">(</span><span class="n">sTD2DInputs</span><span class="p">[</span><span class="mo">0</span><span class="p">],</span><span class="w"> </span><span class="n">vUV</span><span class="p">.</span><span class="n">st</span><span class="p">);</span><span class="w"> </span><span class="c1">// Buffer 1 = Texture of the first input</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="c1">// Write the blue color to the &#39;fragColor&#39; buffer</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="n">extraInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="mo">0</span><span class="p">,</span><span class="mo">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Buffer 2 = Blue</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="p">}</span>
</code></pre></div>
<h5 id="compute-mode"><strong>Compute Mode</strong></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cm">/*</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="cm">Compute shaders do not have an opinion on the type of data you provide them with, or on how to distribute calculations across the GPU. These aspects offer great flexibility but require determining in advance how you want calculations to be performed on your graphics card.</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="cm">For more information on this, you can refer to the official GLSL documentation. For a brief explanation of the concept and its implementation in TD, visit https://docs.derivative.ca/Compute_Shader and https://docs.derivative.ca/Write_a_GLSL_TOP</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="cm">*/</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w"> </span><span class="c1">// Declare the size of the thread groups</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="k">layout</span><span class="w"> </span><span class="p">(</span><span class="n">local_size_x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">local_size_y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="p">;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="cm">/*</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="cm">The group size is used to determine how texture data is partitioned and distributed to threads on your GPU.</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="cm">For example, if you use a 512 x 512 pixel texture and a group size of 8 x 8, you will need 64 thread groups to cover the entire texture.</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="cm">If you leave the Auto-dispatch parameter on ON in the GLSL page settings, GLSL TOP will automatically assign the number of necessary groups to cover the full resolution chosen, so here: 64. (512/8 for each dimension).</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="cm">In the other case, you will need to manually set the number of thread groups using the Dispatch Size parameter.</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="cm">*/</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">(){</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w"> </span><span class="c1">// Define the color</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w"> </span><span class="kt">vec4</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mo">0</span><span class="p">,</span><span class="mo">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Buffer 0 = Rouge</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w"> </span><span class="c1">// Write red color in Buffer 0</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w"> </span><span class="n">imageStore</span><span class="p">(</span><span class="n">mTDComputeOutputs</span><span class="p">[</span><span class="mo">0</span><span class="p">],</span><span class="w"> </span><span class="kt">ivec2</span><span class="p">(</span><span class="nb">gl_GlobalInvocationID</span><span class="p">.</span><span class="n">xy</span><span class="p">),</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="p">}</span>
</code></pre></div>
<h4 id="managing-buffers-with-pixel-wrangle">Managing buffers with Pixel Wrangle</h4>
<ul>
<li>Declare your buffers directly in the 'Outputs' panel of the 'IO' tab, in the same way, whether you are in Vertex/Pixel mode or Compute mode. In general (although there is no absolute rule), I recommend using CAPITAL NAMES to clearly differentiate your output buffers from your Inputs. Below is an example of declaring 3 output buffers</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kt">vec4</span><span class="w"> </span><span class="n">IMAGE</span><span class="p">;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kt">vec4</span><span class="w"> </span><span class="n">POSITION</span><span class="p">;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kt">vec4</span><span class="w"> </span><span class="n">NORMALS</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>
<p>Declare your buffers directly in the 'Outputs' panel of the 'IO' tab, always in the same way, whether you are in Vertex/Pixel mode or in Compute mode. In general (although there is no absolute rule), I recommend using names in CAPITALS to clearly differentiate your output buffers from your Inputs. Below is an example of declaring 3 output buffers.</p>
</li>
<li>
<p>Pixel Wrangle creates the necessary outputs immediately with their respective names, you will see them appear on the OP instance as TOP type outputs.</p>
</li>
<li>
<p>At the same time, a tab corresponding to each of your declarations will be visible in the 'Viewer' panels.</p>
</li>
<li>
<p>Outputs are mapped in the order in which they were declared. If you want to change this order, you can change the order of your declarations.</p>
</li>
<li>
<p>By default, each of these declarations dynamically adds a corresponding macro to easily access them in Compute Shaders. To take the previous example, this is what it looks like in the code sent to the compiler:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="cp">#define IMAGE mTDComputeOutputs[0]</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="cp">#define POSITION mTDComputeOutputs[1]</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="cp">#define NORMALS mTDComputeOutputs[2]</span>
</code></pre></div>
<ul>
<li>Then, you can write to these buffers as follows from the 'Main' tab:</li>
</ul>
<h5 id="vertexpixel-mode_1"><strong>Vertex/Pixel Mode</strong></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cm">/* Read Position-Normalized-Centered-Ratio from macro and store it in a vec4 called &#39;c&#39; */</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1">// _PNCR is a Shorthand for Position-Normalized-Centered-RatioAlongMaxAxis</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="kt">vec4</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="n">_PNCR</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="cm">/* Write vec4 &#39;c&#39; in &#39;IMAGE&#39; Buffer, td() is a shorthand for TDOutputSwizzle() */</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="n">IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">td</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="cm">/*</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="cm">To learn more about the macros used above, you can go to the [Macros](../fr/Macros.md) page, where you will find a complete list of macros that can be used in Pixel Wrangle. They can also be viewed from the &#39;Macros&#39; panel in the upper left of the interface, or directly from the &#39;Full Code&#39; panel as they are sent to the compiler.</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="cm">*/</span>
</code></pre></div>
<h5 id="compute-mode_1"><strong>Compute Mode</strong></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="cm">/* Read Position-Normalized-Centered-Ratio from macro and store it in a vec4 called &#39;c&#39; */</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">// _PNCR is a Shortcut for Position-Normalized-Centered-RatioAlongMaxAxis</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kt">vec4</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="n">_PNCR</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="cm">/* Write vec4 &#39;c&#39; in &#39;IMAGE&#39; Buffer using Absolute Coordinates */</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1">// Shortcut for imageStore(mTDComputeOutputs[0], ivec2(gl_GlobalInvocationID.xy), TDOutputSwizzle(c))</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">store</span><span class="p">(</span><span class="n">IMAGE</span><span class="p">,</span><span class="w"> </span><span class="n">_UV</span><span class="p">,</span><span class="w"> </span><span class="n">td</span><span class="p">(</span><span class="n">c</span><span class="p">));</span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.instant"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>